{% extends 'layouts/app.html' %}
{% load static %}

{% block title %}
    {{ session.nom }} - Cours
{% endblock %}

{% block content %}
<section class="content-header mb-5">
  <h1 class="f-bold">
    Vue 360°
  </h1>
  <ol class="breadcrumb">
    <a href="{% url 'sessions' %}" class="btn btn-info"><i class="fa fa-reply"></i> Retour</a>
  </ol>
</section>

<section class="content">
  {% include 'partials/suivi_chiffre_session.html' %}
  <div class="row">
    <div class="col-md-3">
      {% include 'partials/detail_session.html' %}
      <div class="box box-primary">
        <div class="box-body">
          <div class="box_button">
            {% include 'partials/sous_menu_session.html' %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      <div class="box box-success">
        <div class="box-body">
          <div class="row">
            <div class="col-md-12">
             <div class="box_button">
              <span class="btn btn-info centre_influence_degrade mb-3" data-toggle="modal" data-target="#modal-add_cheminant"><i class="fa fa-user-circle"></i> Créer un cheminant</span>
              <span class="btn btn-info centre_influence_degrade mb-3" data-toggle="modal" data-target="#modal-add_certificat"><i class="fa fa-graduation-cap"></i> Générer un certificat</span>
              <span class="btn btn-info centre_influence_degrade mb-3" data-toggle="modal" data-target="#modal-add_cours"><i class="fa fa-hourglass-2"></i> Créer un cours</span>
              <span class="btn btn-info centre_influence_degrade mb-3" data-toggle="modal" data-target="#modal-add_question_reponse"><i class="fa fa-comments-o"></i> Créer des QCM</span>
              <span class="btn btn-warning mb-3" data-toggle="modal" data-target="#modal-extraction_cours"><i class="fa fa-database"></i> Extraire des cours</span>
             </div>
            </div>
          <div class="col-md-12 table-responsive">
            <br>
            <table id="cours_sessions_datatables" class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th class="d-none"></th>
                  <th>Numéro cours</th>
                  <th>Titre</th>
                  <th>Type de cours</th>
                  <th>Date publication</th>
                  <th>Statut</th>
                  <th class="text-center button_action">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for cours in cours_session %}
                    <tr>
                      <tb class="d-none"></tb>
                      <td>{{ cours.numero_cours|default_if_none:'' }}</td>
                      <td>{{ cours.titre|default_if_none:'' }}</td>
                      <td>{{ cours.type_cours.libelle|default_if_none:'' }}</td>
                      <td>{{ cours.date_publication|date:'d/m/Y' }}</td>
                      <td><span class="badge badge-{{ cours.statut_cours|lower|slugify }}">{{ cours.statut_cours }}</span></td>
                      <td class="text-center button_action">
                          <span class="btn_detail_cours btn btn-info btn-xs" data-cours_id="{{cours.id}}" data-model_name="cours" data-modal_title="Détail du cours" data-href="{% url 'detail_session_cours' cours.id %}"><i class="fa fa-eye"></i></span>
                          <span class="btn_modifier_cours btn btn-warning btn-xs" data-cours_id="{{cours.id}}" data-model_name="cours" data-modal_title="Modifier le cours" data-href="{% url 'update_session_cours' cours.id %}"><i class="fa fa-edit"></i></span>
                          {% if cours.date_activation is none %}
                            <span class="btn_activer_cours btn btn-success btn-xs" data-cours_id="{{cours.id}}"><i class="fa fa-check"></i></span>
                          {% endif %}
                          <span class="btn_supprimer_cours btn btn-danger btn-xs" data-cours_id="{{cours.id}}"><i class="fa fa-trash"></i></span>
                      </td>
                    </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% include 'partials/detail_session_modal.html' %}
{% include 'partials/add_cheminant_modal.html' %}
{% include 'partials/add_certificat_modal.html' %}
{% include 'partials/add_cours_modal.html' %}
{% include 'partials/add_question_reponse_modal.html' %}
{% endblock %}